<div class="dialog-content-wrapper">
  <mat-toolbar class="mat-accent m-0">
      <mat-toolbar-row fxFlex fxLayout="row" fxLayoutAlign="space-between center">
          <span class="title dialog-title">New Message</span>
          <button mat-icon-button (click)="matDialogRef.close()" aria-label="Close dialog">
              <mat-icon>close</mat-icon>
          </button>
      </mat-toolbar-row>
  </mat-toolbar>

  <div mat-dialog-content class="p-24 m-0" myPerfectScrollbar>

      <form name="composeForm" [formGroup]="composeForm" class="compose-form" fxLayout="column" fxFlex>

          <mat-form-field>
              <input matInput name="from"
                     placeholder="From"
                     formControlName="from"
                     type="email">
          </mat-form-field>

          <mat-form-field>
              <input matInput name="to"
                     placeholder="To"
                     formControlName="to"
                     type="email" required>
          </mat-form-field>

          <div class="show-hide-extra-fields" (click)="toggleExtraToFields()">
              <span [fxShow]="!showExtraToFields && !_data">Show CC</span>
          </div>

          <mat-form-field [fxShow]="showExtraToFields && !_data">
              <input matInput
                     name="cc"
                     placeholder="Cc"
                     formControlName="cc"
                     type="email">
          </mat-form-field>

          <mat-form-field>
              <input matInput name="subject"
                     placeholder="Subject"
                     formControlName="subject">
          </mat-form-field>

          <mat-form-field>
              <textarea matInput name="message"
                        placeholder="Message"
                        formControlName="message"
                        rows="6">
              </textarea>
          </mat-form-field>

      </form>
  </div>

  <div *ngIf="!_data" mat-dialog-actions class="m-0 p-16" fxLayout="row" fxLayoutAlign="space-between center">
      <div>
          <button mat-raised-button
                  (click)="matDialogRef.close(['send',composeForm])"
                  class="save-button mat-accent"
                  [disabled]="composeForm.invalid"
                  aria-label="SAVE">
              SEND
          </button>

      </div>
  </div>
</div>
